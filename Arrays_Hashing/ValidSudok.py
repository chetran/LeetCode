class Solution:
  def isValidSudoku(self, board: list[list[str]]) -> bool:  
    squares = {}
    rows = {}
    cols = {}
    
    for i in range(3):
      for j in range(3):
        squares[(i,j)] = set()
    for i in range(9):
      rows[i] = set()
      cols[i] = set()

    for i in range(9):
      for j in range(9):
        square = (i //3 , j // 3)
        val = board[i][j]
        if val != ".":
          if val in squares[square] or val in rows[i] or val in cols[j]:
            return False
          else:
            squares[square].add(val)
            rows[i].add(val)
            cols[j].add(val)
    print(rows)
    print(cols)
    return True



sol = Solution()
print(sol.isValidSudoku(
  [["1","2",".",".","3",".",".",".","."],
 ["4",".",".","5",".",".",".",".","."],
 [".","9","8",".",".",".",".",".","3"],
 ["5",".",".",".","6",".",".",".","4"],
 [".",".",".","8",".","3",".",".","5"],
 ["7",".",".",".","2",".",".",".","6"],
 [".",".",".",".",".",".","2",".","."],
 [".",".",".","4","1","9",".",".","8"],
 [".",".",".",".","8",".",".","7","9"]]) == True)
print(sol.isValidSudoku(
 [["1","2",".",".","3",".",".",".","."],
 ["4",".",".","5",".",".",".",".","."],
 [".","9","1",".",".",".",".",".","3"],
 ["5",".",".",".","6",".",".",".","4"],
 [".",".",".","8",".","3",".",".","5"],
 ["7",".",".",".","2",".",".",".","6"],
 [".",".",".",".",".",".","2",".","."],
 [".",".",".","4","1","9",".",".","8"],
 [".",".",".",".","8",".",".","7","9"]]) == False)
print(sol.isValidSudoku(
  [[".",".","4",".",".",".","6","3","."],
   [".",".",".",".",".",".",".",".","."],
   ["5",".",".",".",".",".",".","9","."],
   [".",".",".","5","6",".",".",".","."],
   ["4",".","3",".",".",".",".",".","1"],
   [".",".",".","7",".",".",".",".","."],
   [".",".",".","5",".",".",".",".","."],
   [".",".",".",".",".",".",".",".","."],
   [".",".",".",".",".",".",".",".","."]]) == False)
